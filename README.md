# TikTok

## 1. Тема и целевая аудитория

<B>ТикТок</B> представляет собой сервис, который предназначен для создания и просмотра видеороликов небольшого размера.

### MVP

1. Регистрация/авторизация
2. Публикация видео
3. Просмотр ленты
4. Лайки/комментарии

### Целевая аудитория

По состоянию на 2023 год **MAU** =  1.1 млрд ([src](https://www.demandsage.com/tiktok-user-statistics/#:~:text=1.1%20billion%20are%20its%20monthly%20active%20users%20as%20of%202023)). 
53% пользователей TikTok — женщины, а 46% — мужчины ([src](https://www.demandsage.com/tiktok-user-statistics/#:~:text=53%25%20Females%20and%2046%25%20Males)). 
Большинство пользователей TikTok находятся в возрасте от 19 до 29 лет ([src](https://www.demandsage.com/tiktok-user-statistics/#:~:text=The%20majority%20of%20TikTok%20users%20are%20between%20the%20age%20of%2019%20to%2029.)).

## 2. Расчет нагрузки

По состоянию на 2023 год **DAU** = 600 млн ([src](https://www.demandsage.com/tiktok-user-statistics/#:~:text=11.%20How%20Much%20Time%20Do%20TikTok%20Users%20Spend%20On%20The%20Platform%3F)).

Среднее время пользования приложением за день (на 2023 год) = 95 мин. ([src](https://www.theverge.com/interface/2020/6/10/21285309/tiktok-2020-user-numbers-revenue-smash-hit-mea-culpa))

Я провела 7.5 минут на сайте, чтобы выяснить, какие запросы за этот период были отправлены.

Получилось, что за 7.5 минут было отправлено **1036** запросов(50 МБ): 23 за видео(35 МБ), 329 за статиткой(11 МБ), 368 за бизнес-логикой(4 МБ).

Таким образом среднее количество запросов в секунду равно:

```
1036 / (7.5 * 60) * 600 000 000 / (24 * 60 * 60) ≈ 15988 RPS
```

Один пользователь имеет трафик: (50 * 8) / (7.5 * 60) = **0.89** Мбит/с 

Нагрузка пользователя в секунду | Сеть 
---                             | ---
Видео                           | (35 * 8) / (7.5 * 60) = **0.62** Мбит / с 
Статика                         | (11 * 8) / (7.5 * 60) = **0.2** Мбит / с 
Бизнес-логика                   | (4 * 8) / (7.5 * 60) = **0.07** Мбит / с

Нагрузка пользователя в день    | Сеть 
---                             | ---
Видео                           | 0.62 * 95 * 60 = **3534** Мбит / д
Статика                         | 0.2 * 95 * 60 = **1140** Мбит / д
Бизнес-логика                   | 0.07 * 95 * 60 = **399** Мбит / д

Нагрузка дневной аудитории      | Сеть 
---                             | ---
Видео                           | (3534 * 600 000 000) / (24 * 60 * 60) / 1024 = **23966** Гбит / с
Статика                         | (1140 * 600 000 000) / (24 * 60 * 60) / 1024 = **7731** Гбит / с
Бизнес-логика                   | (399 * 600 000 000) / (24 * 60 * 60) / 1024 = **2706** Гбит / с

### Расчет загружаемых видео

Исходя из моих данных, можно сделать вывод, что средний размер скачиваемого видео: 35 МБ / 23 = 1.52 МБ. За день пользователи загружают 34 млн видео([src](https://techjury.net/blog/how-many-videos-are-uploaded-to-tiktok-daily/#:~:text=34%20million%20videos%20posted%20on%20Tiktok%20daily)). Таким образом, за один месяц пользователи загрузят видео на 1.52 МБ * (34 млн * 30 дней в месяце) / 2^20 = 1478.58 ТБайт.